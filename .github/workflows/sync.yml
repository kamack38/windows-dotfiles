name: Workflow Sync

on:
  push:
    branches:
      - main
env:
  DRY_RUN: false
  REPOSITORIES: |
    kamack38/linux-dotfiles
  WORKFLOW_FILES: |
    yt-dlp.conf
    changelog.config.js
    AppData/Local/nvim=.config/nvim
    AppData/Roaming/mpv=.config
    AppData/Roaming/bat=.config
    .config/themes/kamack.omp.json=.config/ohmyposh/kamack.omp.json

jobs:
  Sync-Files:
    runs-on: ubuntu-latest
    steps:
      - name: Fetching Local Repository
        uses: actions/checkout@master
      - name: Running Workflow Sync
        uses: varunsridharan/action-github-workflow-sync@main
        with:
          DRY_RUN: ${{ env.DRY_RUN }}
          REPOSITORIES: ${{ env.REPOSITORIES }}
          WORKFLOW_FILES: ${{ env.WORKFLOW_FILES }}
          GITHUB_TOKEN: ${{ secrets.GH_PAT }}
